---
name: Configure project structure and foundational files
status: complete
created: 2026-01-07T02:57:01Z
updated: 2026-01-07T07:38:24Z
github: null
depends_on: [001]
parallel: false
conflicts_with: []
---

# Task: Configure Project Structure and Foundational Files

## Description

Set up the recommended directory structure for Korella CRM including app routes, library utilities, component directories, and foundational configuration files. This task creates the skeleton for feature development without implementing any business logic.

## Acceptance Criteria

- [ ] Directory structure matches architecture specification
- [ ] Route groups created: `(auth)` and `(dashboard)`
- [ ] Library directory with utility files created
- [ ] Component directories organized (ui/, forms/, layouts/, providers/)
- [ ] Features directory with subdirectories created
- [ ] Supabase migrations directory initialized
- [ ] Test directories created (unit/, integration/, e2e/)
- [ ] Basic layout files created with proper structure
- [ ] All directories have `.gitkeep` files where needed
- [ ] Project structure documented in README

## Technical Details

### Implementation Steps

**1. Create App Router Structure**

```bash
# Authentication route group (public pages)
mkdir -p app/\(auth\)/login
mkdir -p app/\(auth\)/register
mkdir -p app/\(auth\)/verify-email
mkdir -p app/\(auth\)/reset-password

# Dashboard route group (protected pages)
mkdir -p app/\(dashboard\)/clients/\[id\]/documents
mkdir -p app/\(dashboard\)/clients/\[id\]/notes
mkdir -p app/\(dashboard\)/clients/\[id\]/tasks
mkdir -p app/\(dashboard\)/clients/new
mkdir -p app/\(dashboard\)/documents
mkdir -p app/\(dashboard\)/settings/profile
mkdir -p app/\(dashboard\)/settings/email
mkdir -p app/\(dashboard\)/settings/billing

# API routes
mkdir -p app/api/health
mkdir -p app/api/test/email
mkdir -p app/api/test/storage
mkdir -p app/api/clients/\[id\]
mkdir -p app/api/documents/\[id\]
mkdir -p app/api/notes
mkdir -p app/api/tasks
```

**2. Create Library Structure**

```bash
# Core library files
mkdir -p lib/validations

# Features directory
mkdir -p features/auth/components
mkdir -p features/auth/hooks
mkdir -p features/auth/services
mkdir -p features/auth/types
mkdir -p features/clients/components
mkdir -p features/clients/hooks
mkdir -p features/clients/services
mkdir -p features/clients/types
mkdir -p features/documents/components
mkdir -p features/documents/hooks
mkdir -p features/documents/services
mkdir -p features/documents/types
```

**3. Create Component Directories**

```bash
# Component organization
mkdir -p components/ui
mkdir -p components/forms
mkdir -p components/layouts
mkdir -p components/providers
```

**4. Create Database Structure**

```bash
# Supabase migrations directory
mkdir -p supabase/migrations

# Create .gitkeep to preserve directory in git
touch supabase/migrations/.gitkeep
```

**5. Create Test Structure**

```bash
# Test directories
mkdir -p tests/unit/lib
mkdir -p tests/unit/components
mkdir -p tests/unit/features
mkdir -p tests/integration/api
mkdir -p tests/integration/auth
mkdir -p tests/e2e

# Placeholder test configs (will be configured in later tasks)
touch tests/.gitkeep
```

**6. Create Root Layout**

Update `app/layout.tsx`:

```typescript
import type { Metadata } from 'next';
import './globals.css';

export const metadata: Metadata = {
  title: 'Korella CRM',
  description: 'Modern CRM platform for real estate professionals',
  viewport: 'width=device-width, initial-scale=1, maximum-scale=5',
  themeColor: '#0070f3',
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body className="min-h-screen bg-gray-50 antialiased">
        {children}
      </body>
    </html>
  );
}
```

**7. Create Auth Layout**

Create `app/(auth)/layout.tsx`:

```typescript
export default function AuthLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <div className="flex min-h-screen items-center justify-center bg-gray-100 px-4">
      <div className="w-full max-w-md">
        {children}
      </div>
    </div>
  );
}
```

**8. Create Dashboard Layout Placeholder**

Create `app/(dashboard)/layout.tsx`:

```typescript
export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <div className="min-h-screen bg-white">
      {/* TODO: Add sidebar and header in User Authentication epic */}
      <main className="p-4">
        {children}
      </main>
    </div>
  );
}
```

**9. Create Public Directory Structure**

```bash
# Public assets
mkdir -p public/icons
mkdir -p public/images
mkdir -p public/fonts

# Create placeholder manifest for PWA (will be configured later)
touch public/manifest.json
```

**10. Update Homepage Placeholder**

Update `app/page.tsx`:

```typescript
export default function HomePage() {
  return (
    <div className="flex min-h-screen items-center justify-center">
      <div className="text-center">
        <h1 className="text-4xl font-bold text-gray-900">
          Korella CRM
        </h1>
        <p className="mt-4 text-gray-600">
          Project setup in progress...
        </p>
      </div>
    </div>
  );
}
```

**11. Create README.md**

Create `README.md` at project root:

```markdown
# Korella CRM

Modern CRM platform designed for real estate professionals (realtors, agents, and loan officers).

## Project Status

ðŸš§ **In Development** - Project setup phase

## Tech Stack

- **Frontend**: Next.js 15 (App Router), TypeScript, Tailwind CSS
- **State**: TanStack Query v5, Zustand
- **Forms**: React Hook Form + Zod
- **Database**: Supabase (PostgreSQL)
- **Storage**: Supabase Storage
- **Auth**: Better Auth (OAuth + Email/Password)
- **Email**: Resend (transactional)
- **Monitoring**: Sentry
- **Deployment**: Vercel

## Development

\`\`\`bash

# Install dependencies

npm install

# Start development server

npm run dev

# Open http://localhost:3000

\`\`\`

## Project Structure

\`\`\`
app/
â”œâ”€â”€ (auth)/ # Public authentication pages
â”œâ”€â”€ (dashboard)/ # Protected application pages
â””â”€â”€ api/ # API routes

lib/ # Utility functions and configurations
features/ # Feature-based modules
components/ # Reusable UI components
supabase/ # Database migrations
tests/ # Test files
\`\`\`

## Documentation

See `.claude/` directory for:

- PRDs (Product Requirements Documents)
- Epics (Technical implementation plans)
- Context documentation
- Project management files

## License

Proprietary - All rights reserved
```

### Directory Structure Visualization

After completion, project should look like:

```
korella-crm/
â”œâ”€â”€ .claude/                      # (existing) Project management
â”œâ”€â”€ .next/                        # (generated) Next.js build
â”œâ”€â”€ node_modules/                 # (existing) Dependencies
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (auth)/
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â”œâ”€â”€ verify-email/
â”‚   â”‚   â”œâ”€â”€ reset-password/
â”‚   â”‚   â””â”€â”€ layout.tsx
â”‚   â”œâ”€â”€ (dashboard)/
â”‚   â”‚   â”œâ”€â”€ clients/[id]/
â”‚   â”‚   â”‚   â”œâ”€â”€ documents/
â”‚   â”‚   â”‚   â”œâ”€â”€ notes/
â”‚   â”‚   â”‚   â””â”€â”€ tasks/
â”‚   â”‚   â”œâ”€â”€ clients/new/
â”‚   â”‚   â”œâ”€â”€ documents/
â”‚   â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/
â”‚   â”‚   â”‚   â”œâ”€â”€ email/
â”‚   â”‚   â”‚   â””â”€â”€ billing/
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ health/
â”‚   â”‚   â”œâ”€â”€ test/email/
â”‚   â”‚   â”œâ”€â”€ test/storage/
â”‚   â”‚   â”œâ”€â”€ clients/[id]/
â”‚   â”‚   â”œâ”€â”€ documents/[id]/
â”‚   â”‚   â”œâ”€â”€ notes/
â”‚   â”‚   â””â”€â”€ tasks/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ globals.css
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                       # shadcn/ui components (added later)
â”‚   â”œâ”€â”€ forms/
â”‚   â”œâ”€â”€ layouts/
â”‚   â””â”€â”€ providers/
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ validations/
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”œâ”€â”€ clients/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ types/
â”‚   â””â”€â”€ documents/
â”‚       â”œâ”€â”€ components/
â”‚       â”œâ”€â”€ hooks/
â”‚       â”œâ”€â”€ services/
â”‚       â””â”€â”€ types/
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/
â”‚       â””â”€â”€ .gitkeep
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ integration/
â”‚   â”œâ”€â”€ e2e/
â”‚   â””â”€â”€ .gitkeep
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ icons/
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ fonts/
â”‚   â””â”€â”€ manifest.json
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .prettierrc
â””â”€â”€ README.md
```

## Dependencies

### Depends On

- **Task 001**: Next.js project must exist first

### Blocks

- All subsequent tasks (need directory structure in place)

## Effort Estimate

- **Size**: Extra Small (XS)
- **Hours**: 0.5-1 hour
- **Parallel**: No (depends on Task 001, blocks all others)

## Definition of Done

- [x] All directories created with proper naming
- [x] Route groups use parentheses: `(auth)`, `(dashboard)`
- [x] Layout files created with basic structure
- [x] `.gitkeep` files added to empty directories
- [x] README.md created with project overview
- [x] Homepage placeholder updated
- [x] `npm run dev` still works (no breaking changes)
- [x] TypeScript compiles without errors
- [x] Directory structure matches architecture spec from epic

## Validation Commands

```bash
# Verify directory structure
tree -L 3 -I 'node_modules|.next' .

# Or use find if tree not available
find . -type d -not -path '*/node_modules/*' -not -path '*/.next/*' | sort

# Verify development server still works
npm run dev

# Check TypeScript compilation
npx tsc --noEmit
```

## Troubleshooting

**Issue**: Parentheses in directory names cause shell errors

**Solution**:

```bash
# Escape parentheses in bash
mkdir -p app/\(auth\)/login

# Or use quotes
mkdir -p "app/(auth)/login"
```

**Issue**: Too many directories to create manually

**Solution**:

```bash
# Create script file
cat > create-dirs.sh << 'EOF'
#!/bin/bash
# All mkdir commands here
EOF

chmod +x create-dirs.sh
./create-dirs.sh
```

## Next Steps

After completing this task:

1. Mark task as complete
2. Proceed to Task 003 (Development tooling configuration)
3. Structure is ready for feature implementation (but don't implement yet!)
