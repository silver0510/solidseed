---
name: Client CRUD API
status: closed
created: 2026-01-12T04:48:34Z
updated: 2026-01-13T07:22:24Z
completed: 2026-01-13T06:35:49Z
github: [Will be updated when synced to GitHub]
depends_on: [001]
parallel: true
---

# Task: Client CRUD API

## Description

Implement core client management API endpoints: create, list with pagination/search, get profile, update, and soft delete.

## Checklist

- [x] Create ClientService class with Supabase integration
- [x] Implement POST /api/clients (create client)
- [x] Implement GET /api/clients (list with cursor pagination, search, tag filter)
- [x] Implement GET /api/clients/:id (get profile with counts)
- [x] Implement PATCH /api/clients/:id (update client)
- [x] Implement DELETE /api/clients/:id (soft delete)
- [x] Add Zod validation schemas for all endpoints
- [x] Add phone format validation (+1-XXX-XXX-XXXX)
- [x] Add email uniqueness error handling
- [x] Tests written (TDD: before implementation, or after)
- [x] All tests passing
- [ ] Code reviewed

## Reference

See epic.md sections:
- "API Endpoints" for request/response specifications
- "Service Integration Code > ClientService" for implementation patterns
- "Architecture Decisions > Cursor-Based Pagination" for pagination approach

## Dependencies

- Task 001 (Database Schema) must complete first
- Better Auth session available for auth.uid()

## Effort: Medium (6 hours)
