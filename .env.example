# =============================================================================
# Korella CRM Environment Configuration
# =============================================================================
# Copy this file to .env.local and fill in your values
# Never commit .env.local to version control

# =============================================================================
# Application
# =============================================================================
NODE_ENV=development
BETTER_AUTH_URL=http://localhost:3000

# =============================================================================
# Supabase Database
# =============================================================================
# Get these from: https://app.supabase.com > Your Project > Settings > API
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your-anon-key

# Direct database connection (Settings > Database > Connection string)
# Used by Better Auth for direct PostgreSQL access
SUPABASE_DATABASE_URL=postgresql://postgres:[password]@db.your-project.supabase.co:5432/postgres

# Service role key for server-side operations (keep secret!)
# Only use on server-side, never expose to client
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# =============================================================================
# Authentication (Better Auth)
# =============================================================================
# Secret key for JWT signing (minimum 32 characters)
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=your-secret-minimum-32-characters-long

# =============================================================================
# OAuth - Google
# =============================================================================
# Setup: https://console.cloud.google.com/ > APIs & Services > Credentials
# See docs/oauth-setup.md for detailed instructions
# Callback URL to configure:
#   Development: http://localhost:3000/api/auth/callback/google
#   Production: https://your-domain.com/api/auth/callback/google
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# =============================================================================
# OAuth - Microsoft
# =============================================================================
# Setup: https://portal.azure.com/ > Azure Active Directory > App registrations
# See docs/oauth-setup.md for detailed instructions
# Callback URL to configure:
#   Development: http://localhost:3000/api/auth/callback/microsoft
#   Production: https://your-domain.com/api/auth/callback/microsoft
MICROSOFT_CLIENT_ID=your-microsoft-application-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# =============================================================================
# Email Service (Resend)
# =============================================================================
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=re_your_api_key

# Sender email address
# Development: Use Resend's test sender (no domain verification needed)
# Production: Use your verified domain (e.g., noreply@korella.com)
RESEND_FROM_EMAIL=onboarding@resend.dev

# Email retry configuration (optional - defaults shown)
# EMAIL_RETRY_MAX_ATTEMPTS=3
# EMAIL_RETRY_INITIAL_DELAY_MS=1000
# EMAIL_RETRY_MAX_DELAY_MS=10000

# Production Email Setup Checklist:
# 1. Verify your domain in Resend dashboard
# 2. Add SPF record: v=spf1 include:_spf.resend.com ~all
# 3. Add DKIM records (provided by Resend)
# 4. Update RESEND_FROM_EMAIL to your verified domain

# =============================================================================
# Rate Limiting (optional)
# =============================================================================
# Redis URL for distributed rate limiting
# Falls back to in-memory rate limiting if not set
# REDIS_URL=redis://localhost:6379

# =============================================================================
# Sentry Monitoring (optional)
# =============================================================================
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
NEXT_PUBLIC_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
SENTRY_AUTH_TOKEN=your_auth_token
SENTRY_ORG=your-org
SENTRY_PROJECT=your-project

# =============================================================================
# Vercel (auto-set in production)
# =============================================================================
# These are automatically set by Vercel during deployment
# VERCEL_URL=auto-generated
# VERCEL_ENV=auto-generated
# VERCEL_GIT_COMMIT_SHA=auto-generated
# VERCEL_OIDC_TOKEN=auto-generated
